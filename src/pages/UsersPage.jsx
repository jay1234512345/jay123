import React,{useState}from'react'
import{Link}from'react-router-dom'
import{users,products,bills}from'../mockData.js'
export default function UsersPage(){const[data,setData]=useState(users);const del=id=>setData(data.filter(i=>i.id!==id));return(<div className="p-4"><div className="flex justify-between mb-4"><h2 className="text-xl font-bold">Users</h2><Link to="/users/new" className="bg-blue-500 text-white px-3 py-1 rounded">Add User</Link></div><table className="min-w-full bg-white border"><thead><tr><th className="border px-4 py-2">Users ID</th><th className="border px-4 py-2">First</th><th className="border px-4 py-2">Last</th><th className="border px-4 py-2">Email</th><th className="border px-4 py-2">Phone</th><th className="border px-4 py-2">Products</th><th className="border px-4 py-2">Bills</th><th className="border px-4 py-2">Actions</th></tr></thead><tbody>{data.map(u=>{const userProducts=products.filter(p=>p.users_id===u.users_id);const userBills=bills.filter(b=>b.user_id===u.users_id);return(<tr key={u.id}><td className="border px-4 py-2">{u.users_id}</td><td className="border px-4 py-2">{u.name}</td><td className="border px-4 py-2">{u.lastname}</td><td className="border px-4 py-2">{u.email}</td><td className="border px-4 py-2">{u.phone}</td><td className="border px-4 py-2">{userProducts.map(p=>(<div key={p.id}><Link to={`/products/${p.id}`} className="text-blue-600 hover:underline">{p.name}</Link></div>))}</td><td className="border px-4 py-2">{userBills.map(b=>(<div key={b.id}><Link to={`/bills/${b.id}`} className="text-blue-600 hover:underline">{b.bill_id}</Link></div>))}</td><td className="border px-4 py-2"><Link to={`/users/${u.id}`} className="text-blue-600 mr-2">Edit</Link><button onClick={()=>del(u.id)} className="text-red-600">Delete</button></td></tr>)})}</tbody></table></div>)}