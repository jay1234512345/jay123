import React,{useState}from'react'
import{Link}from'react-router-dom'
import{products}from'../mockData.js'
export default function ProductsPage(){const[data,setData]=useState(products);const del=id=>setData(data.filter(i=>i.id!==id));return(<div className="p-4"><div className="flex justify-between mb-4"><h2 className="text-xl font-bold">Products</h2><Link to="/products/new" className="bg-blue-500 text-white px-3 py-1 rounded">Add Product</Link></div><table className="min-w-full bg-white border"><thead><tr><th className="border px-4 py-2">ID</th><th className="border px-4 py-2">Product ID</th><th className="border px-4 py-2">Name</th><th className="border px-4 py-2">Category ID</th><th className="border px-4 py-2">Category</th><th className="border px-4 py-2">Price</th><th className="border px-4 py-2">Owner</th><th className="border px-4 py-2">Bills</th><th className="border px-4 py-2">Actions</th></tr></thead><tbody>{data.map(p=>(<tr key={p.id}><td className="border px-4 py-2">{p.id}</td><td className="border px-4 py-2">{p.product_id}</td><td className="border px-4 py-2">{p.name}</td><td className="border px-4 py-2">{p.category_id||'-'}</td><td className="border px-4 py-2">{p.category||'-'}</td><td className="border px-4 py-2">${p.price}</td><td className="border px-4 py-2">{p.users_id}</td><td className="border px-4 py-2">{p.bills? p.bills.map(b=>(<div key={b}><Link to={`/bills/${b}`} className="text-blue-600 hover:underline">{b}</Link></div>)): '-'}</td><td className="border px-4 py-2"><Link to={`/products/${p.id}`} className="text-blue-600 mr-2">Edit</Link><button onClick={()=>del(p.id)} className="text-red-600">Delete</button></td></tr>))}</tbody></table></div>)}